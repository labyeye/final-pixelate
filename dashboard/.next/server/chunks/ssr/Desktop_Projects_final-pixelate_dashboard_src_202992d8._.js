module.exports=[15404,a=>{"use strict";var b=a.i(57457),c=a.i(90782),d=a.i(59104);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-none border-2 bg-card text-card-foreground",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-4",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-4 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-4 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},68932,a=>{"use strict";var b=a.i(57457),c=a.i(90782),d=a.i(59104);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},85305,a=>{"use strict";var b=a.i(57457),c=a.i(90782),d=a.i(68932),e=a.i(15404);function f(){let[a,f]=(0,c.useState)([]),g=async(a,b)=>{try{let c=await fetch(`/api/enquiries?id=${encodeURIComponent(a)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("update failed");let d=await c.json();f(b=>b.map(b=>String(b._id||b.id)===String(a)?d:b))}catch(a){console.error("Failed to update enquiry",a)}},h=async a=>{try{if(!confirm("Are you sure you want to delete this enquiry? This cannot be undone."))return;if(!(await fetch(`/api/enquiries?id=${encodeURIComponent(a)}`,{method:"DELETE"})).ok)throw Error("delete failed");f(b=>b.filter(b=>String(b._id||b.id)!==String(a)))}catch(a){console.error("Failed to delete enquiry",a)}};return(0,c.useEffect)(()=>{let a=!0;return(async()=>{try{let b=await fetch("/api/enquiries"),c=await b.json();if(!a)return;f(c||[])}catch(a){console.error("Failed to load enquiries",a)}})(),()=>{a=!1}},[]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("header",{children:[(0,b.jsx)("h1",{className:"text-5xl font-black",children:"Enquiries"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"All contact form submissions saved from the website."})]}),(0,b.jsxs)(e.Card,{className:"border-2 border-black",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"All Enquiries"}),(0,b.jsx)(e.CardDescription,{children:"Newest first"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)(d.Table,{children:[(0,b.jsx)(d.TableHeader,{children:(0,b.jsxs)(d.TableRow,{children:[(0,b.jsx)(d.TableHead,{children:"Name"}),(0,b.jsx)(d.TableHead,{children:"Email"}),(0,b.jsx)(d.TableHead,{children:"Phone"}),(0,b.jsx)(d.TableHead,{children:"Subject"}),(0,b.jsx)(d.TableHead,{children:"Project Type"}),(0,b.jsx)(d.TableHead,{children:"Message"}),(0,b.jsx)(d.TableHead,{children:"Budget"}),(0,b.jsx)(d.TableHead,{children:"Status"}),(0,b.jsx)(d.TableHead,{children:"Date"})]})}),(0,b.jsx)(d.TableBody,{children:a.map(a=>(0,b.jsxs)(d.TableRow,{children:[(0,b.jsx)(d.TableCell,{className:"font-bold",children:a.name||"-"}),(0,b.jsx)(d.TableCell,{children:a.email||"-"}),(0,b.jsx)(d.TableCell,{children:a.phone||"-"}),(0,b.jsx)(d.TableCell,{children:a.subject||"-"}),(0,b.jsx)(d.TableCell,{children:a.projectType||"-"}),(0,b.jsx)(d.TableCell,{style:{maxWidth:300},children:a.message||"-"}),(0,b.jsx)(d.TableCell,{children:a.budget||"-"}),(0,b.jsx)(d.TableCell,{children:(0,b.jsxs)("select",{value:a.status||"pending",onChange:b=>g(String(a._id||a.id),{status:b.target.value}),className:"border rounded px-2 py-1",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"confirmation",children:"Confirmation"}),(0,b.jsx)("option",{value:"rejected",children:"Rejected"})]})}),(0,b.jsxs)(d.TableCell,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{children:a.createdAt?new Date(a.createdAt).toLocaleString():"-"}),(0,b.jsx)("button",{onClick:()=>h(String(a._id||a.id)),className:"ml-2 text-sm text-red-600 hover:underline",children:"Delete"})]})]},String(a._id||a.id)))})]})})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=Desktop_Projects_final-pixelate_dashboard_src_202992d8._.js.map