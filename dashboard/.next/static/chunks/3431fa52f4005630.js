(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88383,e=>{"use strict";var t=e.i(34371),a=e.i(10913),r=e.i(2507);let s=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-none border-2 bg-card text-card-foreground",e),...a}));s.displayName="Card";let i=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-4",e),...a}));i.displayName="CardHeader";let n=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let l=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));l.displayName="CardDescription";let o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-4 pt-0",e),...a}));o.displayName="CardContent";let d=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-4 pt-0",e),...a}));d.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardFooter",()=>d,"CardHeader",()=>i,"CardTitle",()=>n])},32473,e=>{"use strict";var t=e.i(34371),a=e.i(10913),r=e.i(2507);let s=a.forwardRef(({className:e,type:a,...s},i)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-14 w-full rounded-none border-2 border-foreground bg-background px-4 py-3 text-lg ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},37863,e=>{"use strict";var t=e.i(34371),a=e.i(10913);e.i(30106);var r=e.i(7957),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,r.createSlot)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?i:s,{...n,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),i=a.forwardRef((e,a)=>(0,t.jsx)(s.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=e.i(35727),l=e.i(2507);let o=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i,{ref:r,className:(0,l.cn)(o(),e),...a}));d.displayName=i.displayName,e.s(["Label",()=>d],37863)},58300,e=>{"use strict";var t=e.i(10913),a=e.i(57750);function r(e){let[r,s]=t.useState(void 0);return(0,a.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,r;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,r=t.blockSize}else a=e.offsetWidth,r=e.offsetHeight;s({width:a,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),r}e.s(["useSize",()=>r])},67491,e=>{"use strict";var t=e.i(10913);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["usePrevious",()=>a])},72693,e=>{"use strict";let t=(0,e.i(84674).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],72693)},91505,e=>{"use strict";var t=e.i(34371),a=e.i(10913),r=e.i(62536),s=e.i(25545),i=e.i(39538),n=e.i(96694),l=e.i(67491),o=e.i(58300),d=e.i(65645),c="Switch",[u,f]=(0,i.createContextScope)(c),[p,m]=u(c),h=a.forwardRef((e,i)=>{let{__scopeSwitch:l,name:o,checked:u,defaultChecked:f,required:m,disabled:h,value:x="on",onCheckedChange:b,form:y,...j}=e,[w,N]=a.useState(null),k=(0,s.useComposedRefs)(i,e=>N(e)),C=a.useRef(!1),S=!w||y||!!w.closest("form"),[R,T]=(0,n.useControllableState)({prop:u,defaultProp:f??!1,onChange:b,caller:c});return(0,t.jsxs)(p,{scope:l,checked:R,disabled:h,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":R,"aria-required":m,"data-state":g(R),"data-disabled":h?"":void 0,disabled:h,value:x,...j,ref:k,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{T(e=>!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,t.jsx)(v,{control:w,bubbles:!C.current,name:o,value:x,checked:R,required:m,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});h.displayName=c;var x="SwitchThumb",b=a.forwardRef((e,a)=>{let{__scopeSwitch:r,...s}=e,i=m(x,r);return(0,t.jsx)(d.Primitive.span,{"data-state":g(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:a})});b.displayName=x;var v=a.forwardRef(({__scopeSwitch:e,control:r,checked:i,bubbles:n=!0,...d},c)=>{let u=a.useRef(null),f=(0,s.useComposedRefs)(u,c),p=(0,l.usePrevious)(i),m=(0,o.useSize)(r);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&t){let a=new Event("click",{bubbles:n});t.call(e,i),e.dispatchEvent(a)}},[p,i,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:f,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var y=e.i(2507);let j=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(h,{className:(0,y.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:r,children:(0,t.jsx)(b,{className:(0,y.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));j.displayName=h.displayName,e.s(["Switch",()=>j],91505)},44960,e=>{"use strict";var t=e.i(34371),a=e.i(10913),r=e.i(88383),s=e.i(32473),i=e.i(63951),n=e.i(37863),l=e.i(91505),o=e.i(13248),d=e.i(84674);let c=(0,d.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=e.i(72693);let f=(0,d.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,d.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function m(){let[e,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!0),[x,b]=(0,a.useState)(!0),[v,g]=(0,a.useState)(!1),{toast:y}=(0,o.useToast)();(0,a.useEffect)(()=>{j()},[]);let j=async()=>{try{b(!0);let e=await fetch("/api/announcement");if(e.ok){let t=await e.json();d(t.text||""),h(!1!==t.enabled)}}catch(e){y({title:"Error",description:"Failed to load announcement",variant:"destructive"})}finally{b(!1)}},w=async()=>{if(!e.trim())return void y({title:"Validation Error",description:"Announcement text cannot be empty",variant:"destructive"});if(e.length>200)return void y({title:"Validation Error",description:"Announcement text must be 200 characters or less",variant:"destructive"});try{g(!0);let t=await fetch("/api/announcement",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,enabled:m})});if(t.ok)y({title:"Success",description:"Announcement updated successfully"});else{let e=await t.json();throw Error(e.error||"Failed to update")}}catch(e){y({title:"Error",description:e.message||"Failed to update announcement",variant:"destructive"})}finally{g(!1)}};return x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(c,{className:"h-8 w-8 animate-spin"})}):(0,t.jsx)("div",{className:"container max-w-4xl py-8",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Announcement Bar Settings"}),(0,t.jsx)(r.CardDescription,{children:"Manage the announcement bar that appears at the top of your website"})]}),(0,t.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{children:"Preview"}),(0,t.jsx)("div",{className:"relative overflow-hidden rounded-lg",children:(0,t.jsx)("div",{className:"announcement-preview",style:{background:"linear-gradient(90deg, #ff6b6b 0%, #4ecdc4 50%, #ff6b6b 100%)",backgroundSize:"200% 100%",color:"white",padding:"12px",textAlign:"center",fontWeight:600,fontSize:"14px",opacity:m?1:.5},children:e||"Your announcement text will appear here..."})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(n.Label,{htmlFor:"enabled",children:"Show Announcement Bar"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toggle the visibility of the announcement bar on the website"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[m?(0,t.jsx)(f,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(p,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(l.Switch,{id:"enabled",checked:m,onCheckedChange:h})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.Label,{htmlFor:"announcement-text",children:["Announcement Text",(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",e.length,"/200)"]})]}),(0,t.jsx)(s.Input,{id:"announcement-text",value:e,onChange:e=>d(e.target.value),placeholder:"e.g., Get FLAT 25% OFF Sitewide",maxLength:200,className:"text-base"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This text will scroll across the announcement bar at the top of your website"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:j,disabled:v,children:"Reset"}),(0,t.jsx)(i.Button,{onClick:w,disabled:v||!e.trim(),children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Save,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Tips:"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1 list-disc list-inside text-muted-foreground",children:[(0,t.jsx)("li",{children:"Keep the message short and impactful (max 200 characters)"}),(0,t.jsx)("li",{children:"The announcement scrolls automatically across the screen"}),(0,t.jsx)("li",{children:"Use this for promotions, important updates, or time-sensitive information"}),(0,t.jsx)("li",{children:"Toggle the switch to hide/show without deleting the text"})]})]})]})]})})}e.s(["default",()=>m],44960)}]);