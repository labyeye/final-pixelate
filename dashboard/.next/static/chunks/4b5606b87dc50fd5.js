(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88383,e=>{"use strict";var r=e.i(34371),a=e.i(10913),t=e.i(2507);let s=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("rounded-none border-2 bg-card text-card-foreground",e),...a}));s.displayName="Card";let l=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-4",e),...a}));l.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let o=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let d=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("p-4 pt-0",e),...a}));d.displayName="CardContent";let n=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-4 pt-0",e),...a}));n.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>o,"CardFooter",()=>n,"CardHeader",()=>l,"CardTitle",()=>i])},32473,e=>{"use strict";var r=e.i(34371),a=e.i(10913),t=e.i(2507);let s=a.forwardRef(({className:e,type:a,...s},l)=>(0,r.jsx)("input",{type:a,className:(0,t.cn)("flex h-14 w-full rounded-none border-2 border-foreground bg-background px-4 py-3 text-lg ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));s.displayName="Input",e.s(["Input",()=>s])},37863,e=>{"use strict";var r=e.i(34371),a=e.i(10913);e.i(30106);var t=e.i(7957),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let l=(0,t.createSlot)(`Primitive.${s}`),i=a.forwardRef((e,a)=>{let{asChild:t,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(t?l:s,{...i,ref:a})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),l=a.forwardRef((e,a)=>(0,r.jsx)(s.label,{...e,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l.displayName="Label";var i=e.i(35727),o=e.i(2507);let d=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...a},t)=>(0,r.jsx)(l,{ref:t,className:(0,o.cn)(d(),e),...a}));n.displayName=l.displayName,e.s(["Label",()=>n],37863)},49133,e=>{"use strict";var r=e.i(34371),a=e.i(10913),t=e.i(7957),s=e.i(25009),l=e.i(2507),i=e.i(37863);let o=s.FormProvider,d=a.createContext({}),n=({...e})=>(0,r.jsx)(d.Provider,{value:{name:e.name},children:(0,r.jsx)(s.Controller,{...e})}),c=()=>{let e=a.useContext(d),r=a.useContext(m),{getFieldState:t,formState:l}=(0,s.useFormContext)(),i=t(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},m=a.createContext({}),f=a.forwardRef(({className:e,...t},s)=>{let i=a.useId();return(0,r.jsx)(m.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:s,className:(0,l.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let x=a.forwardRef(({className:e,...a},t)=>{let{error:s,formItemId:o}=c();return(0,r.jsx)(i.Label,{ref:t,className:(0,l.cn)(s&&"text-destructive",e),htmlFor:o,...a})});x.displayName="FormLabel";let u=a.forwardRef(({...e},a)=>{let{error:s,formItemId:l,formDescriptionId:i,formMessageId:o}=c();return(0,r.jsx)(t.Slot,{ref:a,id:l,"aria-describedby":s?`${i} ${o}`:`${i}`,"aria-invalid":!!s,...e})});u.displayName="FormControl";let b=a.forwardRef(({className:e,...a},t)=>{let{formDescriptionId:s}=c();return(0,r.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})});b.displayName="FormDescription";let h=a.forwardRef(({className:e,children:a,...t},s)=>{let{error:i,formMessageId:o}=c(),d=i?String(i?.message??""):a;return d?(0,r.jsx)("p",{ref:s,id:o,className:(0,l.cn)("text-sm font-medium text-destructive",e),...t,children:d}):null});h.displayName="FormMessage",e.s(["Form",()=>o,"FormControl",()=>u,"FormDescription",()=>b,"FormField",()=>n,"FormItem",()=>f,"FormLabel",()=>x,"FormMessage",()=>h])},32216,e=>{"use strict";var r=e.i(34371),a=e.i(10913),t=e.i(2507);let s=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,t.cn)("w-full caption-bottom text-sm",e),...a})}));s.displayName="Table";let l=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("thead",{ref:s,className:(0,t.cn)("[&_tr]:border-b",e),...a}));l.displayName="TableHeader";let i=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("tbody",{ref:s,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("tfoot",{ref:s,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("tr",{ref:s,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let d=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("th",{ref:s,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));d.displayName="TableHead";let n=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("td",{ref:s,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));n.displayName="TableCell",a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("caption",{ref:s,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>n,"TableHead",()=>d,"TableHeader",()=>l,"TableRow",()=>o])},82485,e=>{"use strict";let r=(0,e.i(84674).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>r],82485)},23342,e=>{"use strict";var r=e.i(34371),a=e.i(10913),t=e.i(25009),s=e.i(90560),l=e.i(28993),i=e.i(32216),o=e.i(63951),d=e.i(32473),n=e.i(49133),c=e.i(41465),m=e.i(82485),f=e.i(43509),x=e.i(88383);let u=l.z.object({name:l.z.string().min(2,{message:"Service name must be at least 2 characters."})});function b(){let{user:e}=(0,f.useAuth)(),[l,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{let r=await fetch("/api/services");if(!r.ok)throw Error(`Failed to fetch services: ${r.status}`);let a=await r.json();e&&b(a)}catch(e){console.error("Failed to load services",e)}})(),()=>{e=!1}},[]);let h=(0,t.useForm)({resolver:(0,s.zodResolver)(u),defaultValues:{name:""}});if(e?.role!=="admin")return(0,r.jsx)("div",{className:"space-y-8 font-headline",children:(0,r.jsxs)(x.Card,{className:"border-2 border-black",children:[(0,r.jsx)(x.CardHeader,{children:(0,r.jsx)(x.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Access Denied"})}),(0,r.jsx)(x.CardContent,{children:(0,r.jsx)("p",{className:"text-lg",children:"You do not have permission to view this page."})})]})});let p=async e=>{try{let r=await fetch("/api/services",{method:"POST",body:JSON.stringify({name:e.name}),headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error(`Failed to create service: ${r.status}`);let a=await r.json();b(e=>[...e,a]),h.reset()}catch(e){console.error("Failed to add service",e)}},[j,v]=(0,a.useState)(null),[N,g]=(0,a.useState)(""),y=()=>{v(null),g("")},w=async()=>{if(j)try{let e=await fetch(`/api/services/${j}`,{method:"PUT",body:JSON.stringify({name:N}),headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`Failed to update service: ${e.status}`);let r=await e.json();b(e=>e.map(e=>(e._id??e.id)===(r._id??r.id)?r:e)),y()}catch(e){console.error("Failed to save service",e)}},C=async e=>{try{let r=e._id??e.id,a=await fetch(`/api/services/${r}`,{method:"DELETE"});if(!a.ok)throw Error(`Failed to delete service: ${a.status}`);b(e=>e.filter(e=>(e._id??e.id)!==r))}catch(e){console.error("Failed to delete service",e)}};return(0,r.jsxs)("div",{className:"space-y-8 font-headline",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{className:"text-5xl font-black tracking-tighter",children:"SERVICES"}),(0,r.jsx)("p",{className:"text-muted-foreground text-lg",children:"Manage the services your agency offers."})]}),(0,r.jsxs)(x.Card,{className:"border-2 border-black",children:[(0,r.jsx)(x.CardHeader,{children:(0,r.jsx)(x.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Add New Service"})}),(0,r.jsx)(x.CardContent,{children:(0,r.jsx)(n.Form,{...h,children:(0,r.jsxs)("form",{onSubmit:h.handleSubmit(p),className:"flex items-start gap-4",children:[(0,r.jsx)(n.FormField,{control:h.control,name:"name",render:({field:e})=>(0,r.jsxs)(n.FormItem,{className:"flex-grow",children:[(0,r.jsx)(n.FormControl,{children:(0,r.jsx)(d.Input,{placeholder:"e.g., Video Editing",...e})}),(0,r.jsx)(n.FormMessage,{})]})}),(0,r.jsx)(o.Button,{type:"submit",size:"lg",className:"text-lg h-14",children:"Add Service"})]})})})]}),(0,r.jsx)("div",{className:"border-2 border-black",children:(0,r.jsxs)(i.Table,{children:[(0,r.jsx)(i.TableHeader,{children:(0,r.jsxs)(i.TableRow,{className:"border-b-2 border-black",children:[(0,r.jsx)(i.TableHead,{className:"text-base font-bold",children:"Service ID"}),(0,r.jsx)(i.TableHead,{className:"text-base font-bold",children:"Service Name"})]})}),(0,r.jsx)(i.TableBody,{children:l.map(e=>(0,r.jsxs)(i.TableRow,{className:"border-b-2 border-black last:border-b-0",children:[(0,r.jsx)(i.TableCell,{className:"font-mono text-base py-4",children:e._id??e.id}),(0,r.jsx)(i.TableCell,{className:"font-bold text-base py-4",children:j===(e._id??e.id)?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Input,{value:N,onChange:e=>g(e.target.value)}),(0,r.jsx)(o.Button,{size:"sm",onClick:w,children:"Save"}),(0,r.jsx)(o.Button,{size:"sm",variant:"ghost",onClick:y,children:"Cancel"})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:e.name}),(0,r.jsx)("div",{children:(0,r.jsxs)(c.DropdownMenu,{children:[(0,r.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,r.jsx)(m.MoreVertical,{className:"h-5 w-5"})})}),(0,r.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,r.jsx)(c.DropdownMenuItem,{onClick:()=>{v(e._id??e.id??null),g(e.name)},children:"Edit"}),(0,r.jsx)(c.DropdownMenuItem,{onClick:()=>C(e),className:"text-destructive",children:"Delete"})]})]})})]})})]},e._id??e.id))})]})})]})}e.s(["default",()=>b])}]);