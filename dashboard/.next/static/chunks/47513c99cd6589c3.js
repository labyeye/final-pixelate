(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88383,e=>{"use strict";var a=e.i(34371),r=e.i(10913),l=e.i(2507);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-none border-2 bg-card text-card-foreground",e),...r}));t.displayName="Card";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4",e),...r}));d.displayName="CardHeader";let s=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));s.displayName="CardTitle";let i=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...r}));i.displayName="CardDescription";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-4 pt-0",e),...r}));n.displayName="CardContent";let o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-4 pt-0",e),...r}));o.displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>o,"CardHeader",()=>d,"CardTitle",()=>s])},32216,e=>{"use strict";var a=e.i(34371),r=e.i(10913),l=e.i(2507);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...r})}));t.displayName="Table";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",e),...r}));d.displayName="TableHeader";let s=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...r}));s.displayName="TableBody",r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let i=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));i.displayName="TableRow";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));n.displayName="TableHead";let o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));o.displayName="TableCell",r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>t,"TableBody",()=>s,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>d,"TableRow",()=>i])},27201,e=>{"use strict";var a=e.i(34371),r=e.i(10913),l=e.i(32216),t=e.i(88383);function d(){let[e,d]=(0,r.useState)([]),s=async(e,a)=>{try{let r=await fetch(`/api/enquiries?id=${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw Error("update failed");let l=await r.json();d(a=>a.map(a=>String(a._id||a.id)===String(e)?l:a))}catch(e){console.error("Failed to update enquiry",e)}},i=async e=>{try{if(!confirm("Are you sure you want to delete this enquiry? This cannot be undone."))return;if(!(await fetch(`/api/enquiries?id=${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw Error("delete failed");d(a=>a.filter(a=>String(a._id||a.id)!==String(e)))}catch(e){console.error("Failed to delete enquiry",e)}};return(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let a=await fetch("/api/enquiries"),r=await a.json();if(!e)return;d(r||[])}catch(e){console.error("Failed to load enquiries",e)}})(),()=>{e=!1}},[]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{className:"text-5xl font-black",children:"Enquiries"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"All contact form submissions saved from the website."})]}),(0,a.jsxs)(t.Card,{className:"border-2 border-black",children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"All Enquiries"}),(0,a.jsx)(t.CardDescription,{children:"Newest first"})]}),(0,a.jsx)(t.CardContent,{children:(0,a.jsxs)(l.Table,{children:[(0,a.jsx)(l.TableHeader,{children:(0,a.jsxs)(l.TableRow,{children:[(0,a.jsx)(l.TableHead,{children:"Name"}),(0,a.jsx)(l.TableHead,{children:"Email"}),(0,a.jsx)(l.TableHead,{children:"Phone"}),(0,a.jsx)(l.TableHead,{children:"Subject"}),(0,a.jsx)(l.TableHead,{children:"Project Type"}),(0,a.jsx)(l.TableHead,{children:"Message"}),(0,a.jsx)(l.TableHead,{children:"Budget"}),(0,a.jsx)(l.TableHead,{children:"Status"}),(0,a.jsx)(l.TableHead,{children:"Date"})]})}),(0,a.jsx)(l.TableBody,{children:e.map(e=>(0,a.jsxs)(l.TableRow,{children:[(0,a.jsx)(l.TableCell,{className:"font-bold",children:e.name||"-"}),(0,a.jsx)(l.TableCell,{children:e.email||"-"}),(0,a.jsx)(l.TableCell,{children:e.phone||"-"}),(0,a.jsx)(l.TableCell,{children:e.subject||"-"}),(0,a.jsx)(l.TableCell,{children:e.projectType||"-"}),(0,a.jsx)(l.TableCell,{style:{maxWidth:300},children:e.message||"-"}),(0,a.jsx)(l.TableCell,{children:e.budget||"-"}),(0,a.jsx)(l.TableCell,{children:(0,a.jsxs)("select",{value:e.status||"pending",onChange:a=>s(String(e._id||e.id),{status:a.target.value}),className:"border rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"confirmation",children:"Confirmation"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"})]})}),(0,a.jsxs)(l.TableCell,{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:e.createdAt?new Date(e.createdAt).toLocaleString():"-"}),(0,a.jsx)("button",{onClick:()=>i(String(e._id||e.id)),className:"ml-2 text-sm text-red-600 hover:underline",children:"Delete"})]})]},String(e._id||e.id)))})]})})]})]})}e.s(["default",()=>d])}]);