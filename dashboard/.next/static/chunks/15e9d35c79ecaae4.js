(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88383,e=>{"use strict";var t=e.i(34371),r=e.i(10913),a=e.i(2507);let n=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("rounded-none border-2 bg-card text-card-foreground",e),...r}));n.displayName="Card";let i=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("flex flex-col space-y-1.5 p-4",e),...r}));i.displayName="CardHeader";let s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("h3",{ref:n,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));s.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("p",{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("p-4 pt-0",e),...r}));o.displayName="CardContent";let c=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("flex items-center p-4 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>n,"CardContent",()=>o,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>i,"CardTitle",()=>s])},32216,e=>{"use strict";var t=e.i(34371),r=e.i(10913),a=e.i(2507);let n=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:n,className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})}));n.displayName="Table";let i=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("thead",{ref:n,className:(0,a.cn)("[&_tr]:border-b",e),...r}));i.displayName="TableHeader";let s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tbody",{ref:n,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r}));s.displayName="TableBody",r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tfoot",{ref:n,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tr",{ref:n,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));l.displayName="TableRow";let o=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("th",{ref:n,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));o.displayName="TableHead";let c=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("td",{ref:n,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableCell",r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("caption",{ref:n,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>n,"TableBody",()=>s,"TableCell",()=>c,"TableHead",()=>o,"TableHeader",()=>i,"TableRow",()=>l])},8562,e=>{"use strict";var t=e.i(10913);e.i(34371);var r=t.createContext(void 0);function a(e){let a=t.useContext(r);return e||a||"ltr"}e.s(["useDirection",()=>a])},11749,e=>{"use strict";var t=e.i(10913),r=e.i(62536),a=e.i(94071),n=e.i(25545),i=e.i(39538),s=e.i(8733),l=e.i(65645),o=e.i(5439),c=e.i(96694),d=e.i(8562),u=e.i(34371),f="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[p,x,b]=(0,a.createCollection)(h),[g,j]=(0,i.createContextScope)(h,[b]),[v,N]=g(h),y=t.forwardRef((e,t)=>(0,u.jsx)(p.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(p.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(C,{...e,ref:t})})}));y.displayName=h;var C=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,orientation:s,loop:p=!1,dir:b,currentTabStopId:g,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:y,preventScrollOnEntryFocus:C=!1,...w}=e,T=t.useRef(null),R=(0,n.useComposedRefs)(a,T),S=(0,d.useDirection)(b),[I,A]=(0,c.useControllableState)({prop:g,defaultProp:j??null,onChange:N,caller:h}),[D,F]=t.useState(!1),E=(0,o.useCallbackRef)(y),H=x(i),P=t.useRef(!1),[O,L]=t.useState(0);return t.useEffect(()=>{let e=T.current;if(e)return e.addEventListener(f,E),()=>e.removeEventListener(f,E)},[E]),(0,u.jsx)(v,{scope:i,orientation:s,dir:S,loop:p,currentTabStopId:I,onItemFocus:t.useCallback(e=>A(e),[A]),onItemShiftTab:t.useCallback(()=>F(!0),[]),onFocusableItemAdd:t.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>L(e=>e-1),[]),children:(0,u.jsx)(l.Primitive.div,{tabIndex:D||0===O?-1:0,"data-orientation":s,...w,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!D){let t=new CustomEvent(f,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=H().filter(e=>e.focusable);k([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),C)}}P.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>F(!1))})})}),w="RovingFocusGroupItem",T=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:c,children:d,...f}=e,m=(0,s.useId)(),h=c||m,b=N(w,n),g=b.currentTabStopId===h,j=x(n),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:C}=b;return t.useEffect(()=>{if(i)return v(),()=>y()},[i,v,y]),(0,u.jsx)(p.ItemSlot,{scope:n,id:h,focusable:i,active:o,children:(0,u.jsx)(l.Primitive.span,{tabIndex:g?0:-1,"data-orientation":b.orientation,...f,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{i?b.onItemFocus(h):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>b.onItemFocus(h)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void b.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return R[n]}(e,b.orientation,b.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=j().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&n.reverse();let i=n.indexOf(e.currentTarget);n=b.loop?(r=n,a=i+1,r.map((e,t)=>r[(a+t)%r.length])):n.slice(i+1)}setTimeout(()=>k(n))}}),children:"function"==typeof d?d({isCurrentTabStop:g,hasTabStop:null!=C}):d})})});T.displayName=w;var R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>T,"Root",()=>y,"createRovingFocusGroupScope",()=>j])},28662,e=>{"use strict";function t(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}e.s(["default",()=>t])},61829,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},17380,e=>{"use strict";function t(e,r){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,r)}function r(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,t(e,r)}e.s(["default",()=>r],17380)},29756,e=>{"use strict";function t(e,t){if(!e)throw Error("Invariant failed")}e.s(["default",()=>t])},87531,e=>{"use strict";var t=e.i(34371),r=e.i(10913),a=e.i(88383),n=e.i(2507),i=e.i(95591),s=e.i(33990),l=e.i(41245),o=e.i(21184),c=e.i(51349),d=e.i(34721),u=e.i(78452),f=e.i(43509),m=e.i(62536),h=e.i(39538),p=e.i(11749),x=e.i(73192),b=e.i(65645),g=e.i(8562),j=e.i(96694),v=e.i(8733),N="Tabs",[y,C]=(0,h.createContextScope)(N,[p.createRovingFocusGroupScope]),w=(0,p.createRovingFocusGroupScope)(),[T,R]=y(N),k=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=(0,g.useDirection)(o),[f,m]=(0,j.useControllableState)({prop:n,onChange:i,defaultProp:s??"",caller:N});return(0,t.jsx)(T,{scope:a,baseId:(0,v.useId)(),value:f,onValueChange:m,orientation:l,dir:u,activationMode:c,children:(0,t.jsx)(b.Primitive.div,{dir:u,"data-orientation":l,...d,ref:r})})});k.displayName=N;var S="TabsList",I=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...i}=e,s=R(S,a),l=w(a);return(0,t.jsx)(p.Root,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:n,children:(0,t.jsx)(b.Primitive.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:r})})});I.displayName=S;var A="TabsTrigger",D=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,disabled:i=!1,...s}=e,l=R(A,a),o=w(a),c=H(l.baseId,n),d=P(l.baseId,n),u=n===l.value;return(0,t.jsx)(p.Item,{asChild:!0,...o,focusable:!i,active:u,children:(0,t.jsx)(b.Primitive.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:r,onMouseDown:(0,m.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:(0,m.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:(0,m.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==l.activationMode;u||i||!e||l.onValueChange(n)})})})});D.displayName=A;var F="TabsContent",E=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:i,forceMount:s,children:l,...o}=e,c=R(F,n),d=H(c.baseId,i),u=P(c.baseId,i),f=i===c.value,m=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(x.Presence,{present:s||f,children:({present:r})=>(0,t.jsx)(b.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:m.current?"0s":void 0},children:r&&l})})});function H(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}E.displayName=F;let O=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(I,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-none bg-muted p-1 text-muted-foreground border-2",e),...r}));O.displayName=I.displayName;let L=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(D,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-none px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground",e),...r}));L.displayName=D.displayName;let M=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(E,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));M.displayName=E.displayName;var _=e.i(32216);let K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){let{user:e}=(0,f.useAuth)(),m=e?.role==="staff",[h,p]=(0,r.useState)([]),[x,b]=(0,r.useState)([]),[g,j]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[y,C]=(0,r.useState)([]),[w,T]=(0,r.useState)([]),[R,S]=(0,r.useState)([]),[I,A]=(0,r.useState)([]);function D({value:e,duration:a=800,currency:n=!1}){let i=(0,r.useRef)(null),[s,l]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let t=null,r=Number(e||0);if(0===r)return void l(r);let n=e=>{t||(t=e);let s=Math.min(a,e-t);l(Math.round(0+s/a*(r-0))),s<a&&(i.current=requestAnimationFrame(n))};return i.current=requestAnimationFrame(n),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,a]),(0,t.jsx)(t.Fragment,{children:n?`₹${Number(s||0).toLocaleString()}`:s})}(0,r.useEffect)(()=>{let e=!0;!async function(){try{let t=localStorage.getItem("auth_token")||"",[r,a,n,i,s,l]=await Promise.all([fetch("/api/projects"),fetch("/api/invoices"),fetch("/api/leads",{headers:t?{Authorization:"Bearer "+t}:{}}),fetch("/api/quotations"),fetch("/api/services"),fetch("/api/expenses")]),[o,c,d,u,f,m]=await Promise.all([r.json(),a.json(),n.json(),i.json(),s.json(),l.json()]);if(!e)return;b(o||[]),j(c||[]),N(m||[]),T(Array.isArray(d)?d:[]),S(u||[]),A(f||[]);let h=await (await fetch("/api/clients")).json();C(h||[]);let x=(h||[]).length||0,g=(o||[]).length||0,v=(c||[]).reduce((e,t)=>e+Number(t.amount||0),0),y=(m||[]).reduce((e,t)=>e+Number(t.amount||0),0);p([{name:"clients",value:x,change:"+1.1%",changeType:"positive"},{name:"projects",value:g,change:"+2.4%",changeType:"positive"},{name:"revenue",value:v,change:"+4.2%",changeType:"positive"},{name:"expense",value:y,change:"-0.8%",changeType:"negative"}])}catch(e){console.error("Failed to load dashboard data",e)}}();let t=t=>{(async()=>{try{if(t?.detail?.invoices){j(t.detail.invoices||[]);let r=await fetch("/api/projects"),a=await r.json();if(!e)return;b(a||[])}else{let[t,r]=await Promise.all([fetch("/api/projects"),fetch("/api/invoices")]),[a,n]=await Promise.all([t.json(),r.json()]);if(!e)return;b(a||[]),j(n||[])}}catch(e){console.error("Failed to refresh dashboard data",e)}})()};return window.addEventListener("data:changed",t),()=>{e=!1,window.removeEventListener("data:changed",t)}},[]);let F=x.reduce((e,t)=>{let r=t.status||"BACKLOG";return e[r]=(e[r]||0)+1,e},{});Object.keys(F).map(e=>({status:e,count:F[e],fill:`hsl(var(--chart-${Object.keys(F).indexOf(e)+1}))`}));let E=w.reduce((e,t)=>{let r=t.status??"NEW";return e[r]=(e[r]||0)+1,e},{});Object.entries(R.filter(e=>"APPROVED"===e.status).flatMap(e=>e.services??[]).reduce((e,t)=>{if(!t)return e;let r=t.name??"Unknown";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({service:e,count:t})).sort((e,t)=>t.count-e.count);let H=(()=>{let e=new Date,t=[];for(let r=5;r>=0;r--){let a=new Date(e.getFullYear(),e.getMonth()-r,1);t.push({month:K[a.getMonth()],revenue:0})}for(let r of g||[]){let a=r.createdAt?new Date(r.createdAt):null;if(!a||Number.isNaN(a.getTime()))continue;let n=(e.getFullYear()-a.getFullYear())*12+(e.getMonth()-a.getMonth());if(n>=0&&n<6){let e=5-n;t[e].revenue+=Number(r.amount||0)}}return t})();(x||[]).filter(e=>"COMPLETED"===e.status).map(e=>({title:e.title,amount:Number(e.amount||0)}));let P=(()=>{if(!e||"staff"!==e.role)return 0;let t=e.id??e._id,r=0;for(let e of x||[])for(let a of e.assignees||[]){let e=a&&(a.id??a._id??a.teamMemberId??a.memberId??a.userId??a);e&&String(e)===String(t)&&(r+=Number(a.payout||0))}return r})(),B=(()=>{if(!e||"staff"!==e.role)return[];let t=e.id??e._id,r=new Map;for(let e of x||[])for(let a of e.assignees||[]){let n=a&&(a.id??a._id??a.teamMemberId??a.memberId??a.userId??a);if(n&&String(n)===String(t)){let t=String(e._id??e.id??e.title),n=e.clientName||"-";try{if(!n||"-"===n)if(e.client&&"object"==typeof e.client&&(e.client.name||e.client.title))n=e.client.name||e.client.title||String(e.client);else if(e.client){let t=(y||[]).find(t=>String(t.id??t._id)===String(e.client));n=t?.name||String(e.client)}else if(e.clientId){let t=(y||[]).find(t=>String(t.id??t._id)===String(e.clientId));n=t?.name||String(e.clientId)}else n="-"}catch(e){n="-"}let i=r.get(t)||{projectId:e._id??e.id??t,title:e.title||"Untitled",payout:0,clientName:n};i.payout+=Number(a.payout||0),i.clientName||(i.clientName=n),r.set(t,i)}}return Array.from(r.values()).sort((e,t)=>t.payout-e.payout)})();return(0,t.jsxs)("div",{className:"space-y-8 font-headline",children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("h1",{className:"text-5xl font-black tracking-tighter",children:"DASHBOARD"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg",children:"Real-time pulse of your agency."})]}),(0,t.jsxs)(k,{defaultValue:"overview",children:[(0,t.jsx)(O,{className:"grid w-full grid-cols-1 h-auto",children:(0,t.jsx)(L,{value:"overview",className:"h-12 text-lg",children:"Overview"})}),(0,t.jsx)(M,{value:"overview",className:"space-y-8 mt-8",children:m?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-8",children:[(0,t.jsxs)(a.Card,{className:"border-2 border-black",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Leads Pipeline"}),(0,t.jsx)(a.CardDescription,{children:"Current status of all leads."})]}),(0,t.jsx)(a.CardContent,{className:"space-y-4",children:Object.entries(E).map(([e,r])=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-muted p-3",children:[(0,t.jsx)("span",{className:"font-bold text-muted-foreground text-lg",children:e}),(0,t.jsx)("span",{className:"font-black text-3xl",children:Number(r)})]},e))})]}),(0,t.jsxs)(a.Card,{className:"border-2 border-black",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"My Earnings"}),(0,t.jsx)(a.CardDescription,{children:"Total payouts assigned to you across projects"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("p",{className:"text-5xl font-black",children:["₹",Number(P||0).toLocaleString()]})})]}),(0,t.jsxs)(a.Card,{className:"border-2 border-black",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Earnings by Project"}),(0,t.jsx)(a.CardDescription,{children:"Which projects contributed to your earnings"})]}),(0,t.jsx)(a.CardContent,{children:0===B.length?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No assigned payouts found"}):(0,t.jsxs)(_.Table,{children:[(0,t.jsx)(_.TableHeader,{children:(0,t.jsxs)(_.TableRow,{children:[(0,t.jsx)(_.TableHead,{children:"Project"}),(0,t.jsx)(_.TableHead,{children:"Client"}),(0,t.jsx)(_.TableHead,{className:"text-right",children:"Payout"})]})}),(0,t.jsx)(_.TableBody,{children:B.map(e=>(0,t.jsxs)(_.TableRow,{children:[(0,t.jsx)(_.TableCell,{className:"font-bold",children:e.title}),(0,t.jsx)(_.TableCell,{children:e.clientName||"-"}),(0,t.jsxs)(_.TableCell,{className:"text-right font-black",children:["₹",Number(e.payout||0).toLocaleString()]})]},String(e.projectId)))})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:h.map(e=>(0,t.jsxs)(a.Card,{className:"border-2 border-black",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-base font-bold text-muted-foreground tracking-widest",children:e.name.toUpperCase()})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("p",{className:"text-5xl font-black tracking-tighter",children:"revenue"===e.name||"expense"===e.name?(0,t.jsx)(D,{value:Number(e.value||0),duration:1e3,currency:!0}):"clients"===e.name||"projects"===e.name?(0,t.jsx)(D,{value:Number(e.value||0),duration:900}):e.value}),(0,t.jsx)("p",{className:(0,n.cn)("text-sm font-bold","positive"===e.changeType&&"text-success","negative"===e.changeType&&"text-destructive"),children:e.change})]})]},e.name))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)(a.Card,{className:"lg:col-span-2 border-2 border-black",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Recent Invoices"}),(0,t.jsx)(a.CardDescription,{children:"A quick look at the latest billing activity."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)(_.Table,{children:[(0,t.jsx)(_.TableHeader,{children:(0,t.jsxs)(_.TableRow,{children:[(0,t.jsx)(_.TableHead,{children:"Invoice ID"}),(0,t.jsx)(_.TableHead,{children:"Client"}),(0,t.jsx)(_.TableHead,{children:"Project / Title"}),(0,t.jsx)(_.TableHead,{children:"Amount"}),(0,t.jsx)(_.TableHead,{className:"text-right",children:"Status"})]})}),(0,t.jsx)(_.TableBody,{children:g.slice(0,4).map(e=>(0,t.jsxs)(_.TableRow,{children:[(0,t.jsx)(_.TableCell,{className:"font-bold",children:e.id}),(0,t.jsx)(_.TableCell,{children:e.client||e.clientName||"-"}),(0,t.jsx)(_.TableCell,{children:e.clientName||e.client||y.find(t=>String(t.id??t._id)===String(e.clientId))?.name||"-"}),(0,t.jsx)(_.TableCell,{children:e.title||e.projectTitle||"-"}),(0,t.jsxs)(_.TableCell,{children:["₹",Number(e.amount||0).toLocaleString()]}),(0,t.jsx)(_.TableCell,{className:"text-right font-bold",children:e.status})]},e.id))})]})})]}),(0,t.jsxs)(a.Card,{className:"border-2 border-black",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"Leads Pipeline"}),(0,t.jsx)(a.CardDescription,{children:"Current status of all leads."})]}),(0,t.jsx)(a.CardContent,{className:"space-y-4",children:Object.entries(E).map(([e,r])=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-muted p-3",children:[(0,t.jsx)("span",{className:"font-bold text-muted-foreground text-lg",children:e}),(0,t.jsx)("span",{className:"font-black text-3xl",children:(0,t.jsx)(D,{value:Number(r),duration:700})})]},e))})]})]})]})}),!m&&(0,t.jsx)("div",{className:"space-y-8 mt-8",children:(0,t.jsxs)(a.Card,{className:"lg:col-span-2 border-2 border-black",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-2xl font-black tracking-tighter",children:"MONTHLY REVENUE"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"h-[350px] w-full",children:(0,t.jsx)(o.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(s.BarChart,{data:H,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,t.jsx)(l.CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--foreground))",opacity:.2}),(0,t.jsx)(c.XAxis,{dataKey:"month",stroke:"hsl(var(--foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(d.YAxis,{stroke:"hsl(var(--foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>`₹${e/1e3}k`}),(0,t.jsx)(i.Bar,{dataKey:"revenue",radius:[4,4,0,0],children:H.map((e,r)=>(0,t.jsx)(u.Cell,{fill:["#0ea5e9","#7c3aed","#ef4444","#f59e0b","#10b981","#06b6d4"][r%6]},e.month))})]})})})})]})})]})]})}e.s(["default",()=>B],87531)}]);